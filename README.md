# Loopring docs demo

A quick project to demo a new Loopring documentation portal powered by Gatsby.

## How it works

The documentation is mainly divided in 2 categroies, general protocol overview and API-specific doc.
The first section is comprised of a variety of MDX files living under the `src/pages` folder, while the second one is autogenerated starting from the Swagger documentation pulled from the realyer's remote server.

The MDX generation is handled by the Gatsby MDX plugin, configured in the `gatsby-config.js`. Some basic cnfiguration and additional plugins are used to autolink headers, correctly resolve and display imported images, and apply the custom layout used to actually render the documentation (located under `src/layouts/doc`).

The API-specific documentation is generated by normalizing the Swagger pulled from the remote server (for example by transforming `properties` attributes from key-value maps to arrays) and creating a Gatsby data layer node for each API. These nodes are then applied a layout (located under `src/layouts/api`) and a page is created for each one of them.

## How to edit the documentation

As far as general-level documentation, it's just a question of editing the asociated Markdown file. Each change should be reflected in the built portal.

For API-specific docs, as of now the only way is to either update the remotely-served Swagger documentation, or to update the `gatsby-node.js` script to load a local Swagger definition.

## Development

After cloning the repo, install the required dependencies through:

```
yarn
```

When dependencies are there, you can fire up a local development server listening on port `8000` by running:

```
yarn start
```

After the server is up, any change will be dinamically reflected in the browser, except for those made to `gatsby-config.js` or `gatsby-node.js`, for which a full restart will be needed.

## Build

To build the static content, just run:

```
yarn build
```

The built application will be in the `public` folder, which can be served directly by any server.
